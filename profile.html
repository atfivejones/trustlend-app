<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile & Settings - TrustLend</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- TrustLend Assets -->
    <link rel="stylesheet" href="css/mobile-enhancements.css">
    <script src="js/smart-form-enhancements.js"></script>
    <script src="js/premium-features.js"></script>
    <script src="js/promissory-note-generator.js"></script>
</head>
<body class="bg-gray-50">
    <!-- TrustLend Universal Navigation -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- Logo -->
                <a href="index.html" class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <span class="text-xl font-bold text-gray-900">TrustLend</span>
                </a>
                
                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden flex items-center justify-center w-10 h-10 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>

                <!-- Desktop Navigation -->
                <div id="desktopNav" class="hidden md:flex items-center space-x-4">
                    <!-- Authenticated Navigation -->
                    <div id="authenticatedNav" class="flex items-center space-x-4">
                        <a href="dashboard.html" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                            Dashboard
                        </a>
                        <a href="create-note-legal.html" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                            Create Note
                        </a>
                        <a href="contracts.html" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                            My Contracts
                        </a>
                        <a href="demand-letter-generator.html" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                            Demand Letter
                        </a>
                        
                        <!-- Account Dropdown -->
                        <div class="relative group">
                            <button class="flex items-center text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2">
                                    <span id="userInitials" class="text-sm font-semibold text-blue-600">TU</span>
                                </div>
                                <span class="hidden lg:inline" id="userName">Account</span>
                                <svg class="w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                            
                            <!-- Dropdown Menu -->
                            <div class="absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                                <div class="py-2">
                                    <div class="px-4 py-2 border-b border-gray-100">
                                        <div id="userEmail" class="text-sm text-gray-900 font-medium">user@example.com</div>
                                        <div class="text-xs text-gray-500">Essential Plan</div>
                                    </div>
                                    <a href="profile.html" class="flex items-center px-4 py-2 text-blue-600 bg-blue-50 transition-colors">
                                        <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                        </svg>
                                        Profile Settings
                                    </a>
                                    <a href="billing.html" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                                        <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                        </svg>
                                        Billing & Plans
                                    </a>
                                    <a href="support.html" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                                        <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                        Help & Support
                                    </a>
                                    <hr class="my-1">
                                    <button onclick="signOut()" class="flex items-center w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
                                        <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                        </svg>
                                        Sign Out
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-4 py-3 space-y-1">
                <a href="dashboard.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Dashboard
                </a>
                <a href="create-note-legal.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Create Note
                </a>
                <a href="contracts.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    My Contracts
                </a>
                <a href="demand-letter-generator.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Demand Letter
                </a>
                <hr class="my-2">
                <a href="profile.html" class="block px-3 py-2 text-blue-600 font-semibold bg-blue-50 rounded-lg">
                    Profile Settings
                </a>
                <a href="billing.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Billing & Plans
                </a>
                <a href="support.html" class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Help & Support
                </a>
                <button onclick="signOut()" class="block w-full text-left px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg">
                    Sign Out
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900">Profile & Settings</h1>
            <p class="text-gray-600 mt-2">Manage your account information, preferences, and notifications</p>
        </div>

        <!-- Tab Navigation -->
        <div class="mb-8">
            <nav class="flex space-x-8 border-b border-gray-200">
                <button onclick="showTab('profile')" id="profileTab" class="py-3 px-1 border-b-2 border-blue-500 font-medium text-sm text-blue-600 whitespace-nowrap">
                    Profile Information
                </button>
                <button onclick="showTab('account')" id="accountTab" class="py-3 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap">
                    Account Settings
                </button>
                <button onclick="showTab('notifications')" id="notificationsTab" class="py-3 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap">
                    Notifications
                </button>
                <button onclick="showTab('security')" id="securityTab" class="py-3 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap">
                    Security
                </button>
            </nav>
        </div>

        <!-- Profile Information Tab -->
        <div id="profileContent" class="tab-content">
            <div class="bg-white rounded-lg border border-gray-200 p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-6">Profile Information</h2>
                <form id="profileForm">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">First Name</label>
                            <input type="text" id="firstName" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Last Name</label>
                            <input type="text" id="lastName" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                            <input type="email" id="email" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Phone</label>
                            <input type="tel" id="phone" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>

                    <div class="mt-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Address</label>
                        <input type="text" id="address" placeholder="Street Address" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mt-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">City</label>
                            <input type="text" id="city" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">State</label>
                            <select id="state" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Select State</option>
                                <option value="AL">Alabama</option>
                                <option value="AK">Alaska</option>
                                <option value="AZ">Arizona</option>
                                <option value="AR">Arkansas</option>
                                <option value="CA">California</option>
                                <option value="CO">Colorado</option>
                                <option value="CT">Connecticut</option>
                                <option value="DE">Delaware</option>
                                <option value="FL">Florida</option>
                                <option value="GA">Georgia</option>
                                <option value="HI">Hawaii</option>
                                <option value="ID">Idaho</option>
                                <option value="IL">Illinois</option>
                                <option value="IN">Indiana</option>
                                <option value="IA">Iowa</option>
                                <option value="KS">Kansas</option>
                                <option value="KY">Kentucky</option>
                                <option value="LA">Louisiana</option>
                                <option value="ME">Maine</option>
                                <option value="MD">Maryland</option>
                                <option value="MA">Massachusetts</option>
                                <option value="MI">Michigan</option>
                                <option value="MN">Minnesota</option>
                                <option value="MS">Mississippi</option>
                                <option value="MO">Missouri</option>
                                <option value="MT">Montana</option>
                                <option value="NE">Nebraska</option>
                                <option value="NV">Nevada</option>
                                <option value="NH">New Hampshire</option>
                                <option value="NJ">New Jersey</option>
                                <option value="NM">New Mexico</option>
                                <option value="NY">New York</option>
                                <option value="NC">North Carolina</option>
                                <option value="ND">North Dakota</option>
                                <option value="OH">Ohio</option>
                                <option value="OK">Oklahoma</option>
                                <option value="OR">Oregon</option>
                                <option value="PA">Pennsylvania</option>
                                <option value="RI">Rhode Island</option>
                                <option value="SC">South Carolina</option>
                                <option value="SD">South Dakota</option>
                                <option value="TN">Tennessee</option>
                                <option value="TX">Texas</option>
                                <option value="UT">Utah</option>
                                <option value="VT">Vermont</option>
                                <option value="VA">Virginia</option>
                                <option value="WA">Washington</option>
                                <option value="WV">West Virginia</option>
                                <option value="WI">Wisconsin</option>
                                <option value="WY">Wyoming</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ZIP Code</label>
                            <input type="text" id="zip" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">County</label>
                            <input type="text" id="county" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>

                    <div class="mt-8">
                        <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors">
                            Save Profile
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Account Settings Tab -->
        <div id="accountContent" class="tab-content hidden">
            <div class="space-y-6">
                <!-- Preferences -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Account Preferences</h2>
                    <div class="space-y-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-gray-900">Default Contract Protection Level</div>
                                <div class="text-sm text-gray-600">Choose your preferred protection level for new contracts</div>
                            </div>
                            <select id="defaultProtection" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="essential">Essential Protection ($9.99)</option>
                                <option value="maximum">Maximum Protection ($19.99)</option>
                            </select>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-gray-900">Auto-enable UCC Article 9</div>
                                <div class="text-sm text-gray-600">Automatically include security interest provisions in new contracts</div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="autoUCC" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                            </label>
                        </div>

                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-gray-900">Require ID Verification</div>
                                <div class="text-sm text-gray-600">Always require borrower ID verification for new contracts</div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="requireID" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Data & Privacy -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Data & Privacy</h2>
                    <div class="space-y-4">
                        <button onclick="downloadData()" class="w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                            <div class="font-semibold text-gray-900">Download My Data</div>
                            <div class="text-sm text-gray-600">Get a copy of all your TrustLend data</div>
                        </button>
                        
                        <a href="demand-letter-generator.html" class="w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors block">
                            <div class="font-semibold text-gray-900">Generate Demand Letter</div>
                            <div class="text-sm text-gray-600">Create formal legal demand letters for overdue payments</div>
                        </a>
                        
                        <button onclick="deleteAccount()" class="w-full text-left p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-red-700">
                            <div class="font-semibold">Delete Account</div>
                            <div class="text-sm">Permanently delete your account and all data</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Tab -->
        <div id="notificationsContent" class="tab-content hidden">
            <div class="bg-white rounded-lg border border-gray-200 p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-6">Notification Preferences</h2>
                
                <div class="space-y-8">
                    <!-- Email Notifications -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Email Notifications</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium text-gray-900">Payment Reminders</div>
                                    <div class="text-sm text-gray-600">Get notified when payments are due or overdue</div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="emailPaymentReminders" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium text-gray-900">Contract Status Updates</div>
                                    <div class="text-sm text-gray-600">Updates when contracts are signed, paid, or completed</div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="emailContractUpdates" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium text-gray-900">Marketing & Product Updates</div>
                                    <div class="text-sm text-gray-600">News about TrustLend features and legal tips</div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="emailMarketing" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SMS Notifications -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">SMS Notifications</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium text-gray-900">Payment Alerts</div>
                                    <div class="text-sm text-gray-600">Urgent payment reminders via text message</div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="smsPaymentAlerts" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="font-medium text-gray-900">Contract Signed Notifications</div>
                                    <div class="text-sm text-gray-600">Instant alerts when someone signs your contract</div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="smsContractSigned" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Reminder Schedule -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Reminder Schedule</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Payment Reminder Frequency</label>
                                <select id="reminderFrequency" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="7,3,1">7, 3, and 1 day before due date</option>
                                    <option value="7,1">7 and 1 day before due date</option>
                                    <option value="3,1">3 and 1 day before due date</option>
                                    <option value="1">1 day before due date only</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Overdue Payment Escalation</label>
                                <select id="overdueEscalation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="aggressive">Aggressive (daily reminders)</option>
                                    <option value="moderate">Moderate (every 3 days)</option>
                                    <option value="gentle">Gentle (weekly reminders)</option>
                                    <option value="none">No automatic escalation</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="pt-6">
                        <button onclick="saveNotificationSettings()" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors">
                            Save Notification Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Tab -->
        <div id="securityContent" class="tab-content hidden">
            <div class="space-y-6">
                <!-- Change Password -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Change Password</h2>
                    <form id="passwordForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Current Password</label>
                            <input type="password" id="currentPassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">New Password</label>
                            <input type="password" id="newPassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Confirm New Password</label>
                            <input type="password" id="confirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors">
                            Update Password
                        </button>
                    </form>
                </div>

                <!-- Two-Factor Authentication -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Two-Factor Authentication</h2>
                    <div class="flex items-center justify-between">
                        <div>
                            <div class="font-semibold text-gray-900">SMS Authentication</div>
                            <div class="text-sm text-gray-600">Add an extra layer of security to your account</div>
                        </div>
                        <button onclick="enable2FA()" class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                            Enable 2FA
                        </button>
                    </div>
                </div>

                <!-- Active Sessions -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Active Sessions</h2>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div>
                                <div class="font-semibold text-gray-900">Current Session</div>
                                <div class="text-sm text-gray-600">Chrome on Windows • Current location</div>
                                <div class="text-xs text-gray-500">Last active: Now</div>
                            </div>
                            <span class="text-green-600 font-semibold">Active</span>
                        </div>
                        <button onclick="signOutAllSessions()" class="text-red-600 hover:text-red-700 font-semibold">
                            Sign out of all other sessions
                        </button>
                    </div>
                </div>

                <!-- API Keys -->
                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">API Access</h2>
                    <div class="space-y-4">
                        <div class="text-sm text-gray-600">
                            Generate API keys for integrating TrustLend with your business systems.
                        </div>
                        <button onclick="generateAPIKey()" class="bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-700 transition-colors">
                            Generate API Key
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab management
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Remove active styles from all tabs
            document.querySelectorAll('nav button').forEach(tab => {
                tab.classList.remove('border-blue-500', 'text-blue-600');
                tab.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Content').classList.remove('hidden');
            
            // Add active styles to selected tab
            const activeTab = document.getElementById(tabName + 'Tab');
            activeTab.classList.remove('border-transparent', 'text-gray-500');
            activeTab.classList.add('border-blue-500', 'text-blue-600');
        }

        // Load existing profile data
        document.addEventListener('DOMContentLoaded', function() {
            const profile = JSON.parse(localStorage.getItem('userProfile') || '{}');
            const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');
            
            // Load profile data
            if (profile.firstName) document.getElementById('firstName').value = profile.firstName;
            if (profile.lastName) document.getElementById('lastName').value = profile.lastName;
            if (profile.email) document.getElementById('email').value = profile.email;
            if (profile.phone) document.getElementById('phone').value = profile.phone;
            if (profile.address) document.getElementById('address').value = profile.address;
            if (profile.city) document.getElementById('city').value = profile.city;
            if (profile.state) document.getElementById('state').value = profile.state;
            if (profile.zip) document.getElementById('zip').value = profile.zip;
            if (profile.county) document.getElementById('county').value = profile.county;
            
            // Load settings
            if (settings.defaultProtection) document.getElementById('defaultProtection').value = settings.defaultProtection;
            if (settings.autoUCC) document.getElementById('autoUCC').checked = settings.autoUCC;
            if (settings.requireID) document.getElementById('requireID').checked = settings.requireID;
        });

        // Save profile data
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const profile = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                city: document.getElementById('city').value,
                state: document.getElementById('state').value,
                zip: document.getElementById('zip').value,
                county: document.getElementById('county').value
            };
            
            localStorage.setItem('userProfile', JSON.stringify(profile));
            alert('Profile updated successfully!');
        });

        // Save notification settings
        function saveNotificationSettings() {
            const notifications = {
                emailPaymentReminders: document.getElementById('emailPaymentReminders').checked,
                emailContractUpdates: document.getElementById('emailContractUpdates').checked,
                emailMarketing: document.getElementById('emailMarketing').checked,
                smsPaymentAlerts: document.getElementById('smsPaymentAlerts').checked,
                smsContractSigned: document.getElementById('smsContractSigned').checked,
                reminderFrequency: document.getElementById('reminderFrequency').value,
                overdueEscalation: document.getElementById('overdueEscalation').value
            };
            
            localStorage.setItem('notificationSettings', JSON.stringify(notifications));
            alert('Notification settings saved!');
        }

        // Save account settings
        document.getElementById('defaultProtection').addEventListener('change', saveAccountSettings);
        document.getElementById('autoUCC').addEventListener('change', saveAccountSettings);
        document.getElementById('requireID').addEventListener('change', saveAccountSettings);

        function saveAccountSettings() {
            const settings = {
                defaultProtection: document.getElementById('defaultProtection').value,
                autoUCC: document.getElementById('autoUCC').checked,
                requireID: document.getElementById('requireID').checked
            };
            
            localStorage.setItem('userSettings', JSON.stringify(settings));
        }

        // Password change
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (newPassword !== confirmPassword) {
                alert('New passwords do not match');
                return;
            }
            
            if (newPassword.length < 8) {
                alert('Password must be at least 8 characters long');
                return;
            }
            
            alert('Password updated successfully!');
            document.getElementById('passwordForm').reset();
        });

        // Data & Privacy functions
        function downloadData() {
            alert('Your data export will be emailed to you within 24 hours.');
        }

        function deleteAccount() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                if (confirm('This will permanently delete all your contracts and data. Are you absolutely sure?')) {
                    alert('Account deletion request submitted. You will receive a confirmation email.');
                }
            }
        }

        // Security functions
        function enable2FA() {
            alert('SMS 2FA setup initiated. You will receive a text message with setup instructions.');
        }

        function signOutAllSessions() {
            if (confirm('This will sign you out of all devices. Continue?')) {
                alert('All other sessions have been terminated.');
            }
        }

        function generateAPIKey() {
            const apiKey = 'tk_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
            if (confirm('Generate new API key? This will invalidate any existing keys.\n\nNew key: ' + apiKey)) {
                navigator.clipboard.writeText(apiKey);
                alert('API key generated and copied to clipboard!');
            }
        }
    </script>
</body>
</html>